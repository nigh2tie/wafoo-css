<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>カレンダー - wafoo-css</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <meta name="robots" content="noindex,nofollow" />
  <link rel="stylesheet" href="../dist/wafoo.css" />
  <script src="../dist/wafoo.js"></script>
  <style>
    body {
      margin: 0;
    }
  </style>
</head>

<body>
  <a href="#main" class="wf-sr-only">メインコンテンツへスキップ</a>
  <header class="wf-header-noren" role="banner">
    <div class="wf-container" style="padding: 0">
      <h1>カレンダー</h1>
    </div>
  </header>
  <main class="wf-container" role="main" id="main">
    <h2>基本的な使い方</h2>
    <div class="wf-card wf-mb-4">
      <div class="wf-calendar" data-wf-calendar>
        <div class="wf-calendar__header">
          <button class="wf-calendar__nav-btn" data-action="prev" aria-label="前月">‹</button>
          <div class="wf-calendar__title"></div>
          <button class="wf-calendar__nav-btn" data-action="next" aria-label="次月">›</button>
        </div>
        <div class="wf-calendar__weekdays"></div>
        <div class="wf-calendar__grid"></div>
      </div>
      <p class="wf-text-sm wf-text-muted wf-mt-2" id="basic-result">選択された日付: なし</p>
    </div>

    <h2>複数選択</h2>
    <div class="wf-card wf-mb-4">
      <div class="wf-calendar" data-wf-calendar data-wf-calendar-multiple="true">
        <div class="wf-calendar__header">
          <button class="wf-calendar__nav-btn" data-action="prev" aria-label="前月">‹</button>
          <div class="wf-calendar__title"></div>
          <button class="wf-calendar__nav-btn" data-action="next" aria-label="次月">›</button>
        </div>
        <div class="wf-calendar__weekdays"></div>
        <div class="wf-calendar__grid"></div>
      </div>
      <p class="wf-text-sm wf-text-muted wf-mt-2" id="multiple-result">選択された日付: なし</p>
    </div>

    <h2>範囲選択</h2>
    <div class="wf-card wf-mb-4">
      <div class="wf-calendar" data-wf-calendar data-wf-calendar-range="true">
        <div class="wf-calendar__header">
          <button class="wf-calendar__nav-btn" data-action="prev" aria-label="前月">‹</button>
          <div class="wf-calendar__title"></div>
          <button class="wf-calendar__nav-btn" data-action="next" aria-label="次月">›</button>
        </div>
        <div class="wf-calendar__weekdays"></div>
        <div class="wf-calendar__grid"></div>
      </div>
      <p class="wf-text-sm wf-text-muted wf-mt-2" id="range-result">選択範囲: なし</p>
    </div>

    <h2>日付制限あり</h2>
    <div class="wf-card wf-mb-4">
      <div class="wf-calendar" data-wf-calendar data-wf-calendar-min-date="2024-11-01"
        data-wf-calendar-max-date="2024-11-30">
        <div class="wf-calendar__header">
          <button class="wf-calendar__nav-btn" data-action="prev" aria-label="前月">‹</button>
          <div class="wf-calendar__title"></div>
          <button class="wf-calendar__nav-btn" data-action="next" aria-label="次月">›</button>
        </div>
        <div class="wf-calendar__weekdays"></div>
        <div class="wf-calendar__grid"></div>
      </div>
      <p class="wf-text-sm wf-text-muted wf-mt-2">2024年11月のみ選択可能</p>
      <p class="wf-text-sm wf-text-muted wf-mt-2" id="restricted-result">選択された日付: なし</p>
    </div>

    <h2>日曜日スタート</h2>
    <div class="wf-card wf-mb-4">
      <div class="wf-calendar" data-wf-calendar data-wf-calendar-week-start="0">
        <div class="wf-calendar__header">
          <button class="wf-calendar__nav-btn" data-action="prev" aria-label="前月">‹</button>
          <div class="wf-calendar__title"></div>
          <button class="wf-calendar__nav-btn" data-action="next" aria-label="次月">›</button>
        </div>
        <div class="wf-calendar__weekdays"></div>
        <div class="wf-calendar__grid"></div>
      </div>
      <p class="wf-text-sm wf-text-muted wf-mt-2" id="sunday-result">選択された日付: なし</p>
    </div>

    <p class="wf-text-sm wf-text-muted wf-mt-4">
      <a class="wf-link" href="./showcase-wafu.html">ショーケースへ戻る</a>
    </p>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // 自動初期化後にコールバックを追加
      setTimeout(() => {
        // 基本的な使い方の結果表示
        const basicCalendar = document.querySelectorAll('[data-wf-calendar]')[0];
        if (basicCalendar) {
          basicCalendar.addEventListener("wf-calendar-select", function (e) {
            const resultEl = document.getElementById("basic-result");
            if (resultEl) {
              const date = typeof e.detail === "string" ? e.detail : "なし";
              resultEl.textContent = `選択された日付: ${date}`;
            }
          });
        }

        // 複数選択の結果表示
        const multipleCalendar = document.querySelector('[data-wf-calendar-multiple="true"]');
        if (multipleCalendar) {
          multipleCalendar.addEventListener("wf-calendar-select", function (e) {
            const instance = multipleCalendar._wfCalendarInstance;
            if (instance && Array.isArray(e.detail)) {
              const resultEl = document.getElementById("multiple-result");
              if (resultEl) {
                resultEl.textContent = `選択された日付: ${e.detail.length > 0 ? e.detail.join(", ") : "なし"}`;
              }
            }
          });
        }

        // 範囲選択の結果表示
        const rangeCalendar = document.querySelector('[data-wf-calendar-range="true"]');
        if (rangeCalendar) {
          rangeCalendar.addEventListener("wf-calendar-select", function (e) {
            const resultEl = document.getElementById("range-result");
            if (resultEl) {
              const range = e.detail;
              resultEl.textContent =
                range && range.end
                  ? `選択範囲: ${range.start} 〜 ${range.end}`
                  : range && range.start
                    ? `開始日: ${range.start}（終了日を選択してください）`
                    : "選択範囲: なし";
            }
          });
        }

        // 日付制限ありの結果表示
        const restrictedCalendar = document.querySelector('[data-wf-calendar-min-date="2024-11-01"]');
        if (restrictedCalendar) {
          restrictedCalendar.addEventListener("wf-calendar-select", function (e) {
            const resultEl = document.getElementById("restricted-result");
            if (resultEl) {
              const date = typeof e.detail === "string" ? e.detail : "なし";
              resultEl.textContent = `選択された日付: ${date}`;
            }
          });
        }

        // 日曜日スタートの結果表示
        const sundayCalendar = document.querySelector('[data-wf-calendar-week-start="0"]');
        if (sundayCalendar) {
          sundayCalendar.addEventListener("wf-calendar-select", function (e) {
            const resultEl = document.getElementById("sunday-result");
            if (resultEl) {
              const date = typeof e.detail === "string" ? e.detail : "なし";
              resultEl.textContent = `選択された日付: ${date}`;
            }
          });
        }
      }, 100);
    });
  </script>
</body>

</html>
