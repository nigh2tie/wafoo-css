!function(){function e(e,t,n,a){e&&e.addEventListener(t,n,a)}function t(e){const t=e.hidden,n=e.style.visibility,a=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");const r=e.offsetWidth||180,i=e.offsetHeight||40;return a||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:r,h:i}}function n(e,t,n){return Math.max(t,Math.min(n,e))}function a(a,r,i){const o=Object.assign({margin:8},i||{});function l(){const e=a.getBoundingClientRect(),{w:i,h:l}=t(r),s=e.left+e.width/2;let c=s;c=n(c,o.margin+i/2,window.innerWidth-o.margin-i/2);const d=e.top<l+o.margin+10;r.classList.toggle("is-top",!d),r.classList.toggle("is-bottom",d),r.style.position="fixed",r.style.left=Math.round(c)+"px",r.style.top=Math.round(d?e.bottom+o.margin:e.top)+"px";const u=Math.max(0,i/2-8),f=n(s-c,-u,u);r.style.setProperty("--wf-arrow-x",f+"px")}function s(e){e&&l(),r.hidden=!e,r.classList.toggle("is-open",e)}e(a,"mouseenter",()=>s(!0)),e(a,"mouseleave",()=>s(!1)),e(a,"focus",()=>s(!0)),e(a,"blur",()=>s(!1)),e(document,"keydown",e=>{"Escape"!==e.key||r.hidden||s(!1)}),e(window,"scroll",()=>{r.hidden||l()},{passive:!0}),e(window,"resize",()=>{r.hidden||l()})}function r(e){return Array.from(e.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("disabled"))}function i(e,t){return e?(e.id||(e.id=(t||"wf")+"-"+Math.random().toString(36).slice(2,7)),e.id):null}function o(a,o,l){const s=Object.assign({margin:8},l||{});let c=null;o.hasAttribute("role")||o.setAttribute("role","dialog");const d=o.querySelector(".wf-popover__header, [data-popover-title]");d&&!o.hasAttribute("aria-labelledby")&&o.setAttribute("aria-labelledby",i(d,"pv-title"));let u=!1;function f(){const e=a.getBoundingClientRect(),{w:r,h:i}=t(o),l=e.left+e.width/2;let c=l;c=n(c,s.margin+r/2,window.innerWidth-s.margin-r/2);const d=window.innerHeight-e.bottom<i+s.margin+10;u=d;const f=d?e.top-i-s.margin:e.bottom+s.margin;o.style.position="fixed",o.style.left=Math.round(c)+"px",o.style.top=Math.round(f)+"px",o.style.transform="translateX(-50%)",o.classList.toggle("is-arrow-top",d),o.classList.toggle("is-arrow-bottom",!d);const m=Math.max(0,r/2-10),g=n(l-c,-m,m);o.style.setProperty("--wf-arrow-x",g+"px")}let m=0;function g(e){if(e){c=document.activeElement,o.hidden=!1,o.classList.add("is-open"),a.setAttribute("aria-expanded","true"),f();const e=r(o);e.length?requestAnimationFrame(()=>requestAnimationFrame(()=>e[0].focus())):(o.setAttribute("tabindex","-1"),requestAnimationFrame(()=>o.focus())),m=performance.now()+150}else o.hidden=!0,o.classList.remove("is-open"),a.setAttribute("aria-expanded","false"),c&&"function"==typeof c.focus&&setTimeout(()=>c.focus(),0)}e(a,"click",()=>g(o.hidden)),e(document,"click",e=>{performance.now()<m||o.contains(e.target)||e.target===a||g(!1)}),e(window,"resize",()=>{o.hidden||f()}),e(window,"scroll",()=>{o.hidden||f()},{passive:!0}),e(a,"keydown",e=>{"Escape"===e.key&&g(!1),"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g(o.hidden))}),e(o,"keydown",e=>{if("Escape"===e.key&&g(!1),"Tab"===e.key){const t=r(o);if(!t.length)return;const n=t.indexOf(document.activeElement);e.shiftKey&&n<=0?(e.preventDefault(),t[t.length-1].focus()):e.shiftKey||n!==t.length-1||(e.preventDefault(),t[0].focus())}})}function l(t){if(!t)return;const n=t.querySelector(".wf-dropdown__toggle"),a=t.querySelector(".wf-dropdown__menu");if(!n||!a)return;a.hasAttribute("role")||a.setAttribute("role","menu"),a.querySelectorAll(".wf-dropdown__item").forEach(e=>{e.hasAttribute("role")||e.setAttribute("role","menuitem")});let r=null;function i(){return Array.from(a.querySelectorAll(".wf-dropdown__item"))}function o(e){if(t.classList.toggle("is-open",e),n.setAttribute("aria-expanded",String(e)),a.hidden=!e,e){r=document.activeElement;const e=i();e.forEach(e=>e.tabIndex=-1),e.length&&setTimeout(()=>e[0].focus(),0)}else r&&"function"==typeof r.focus&&setTimeout(()=>r.focus(),0)}e(n,"click",()=>o(!t.classList.contains("is-open"))),e(document,"click",e=>{t.contains(e.target)||o(!1)}),e(n,"keydown",e=>{if("Escape"===e.key&&o(!1),"Enter"!==e.key&&" "!==e.key||!a.hidden||(e.preventDefault(),o(!0)),!a.hidden&&("ArrowDown"===e.key||"ArrowUp"===e.key)){e.preventDefault();const t=i();t.length&&t["ArrowDown"===e.key?0:t.length-1].focus()}}),e(a,"keydown",e=>{if("Escape"===e.key&&o(!1),"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=i(),n=t.indexOf(document.activeElement);if(n<0)return;t["ArrowDown"===e.key?(n+1)%t.length:(n-1+t.length)%t.length].focus()}if("Tab"===e.key&&o(!1),"Enter"===e.key||" "===e.key){const t=document.activeElement;t&&t.classList.contains("wf-dropdown__item")&&(e.preventDefault(),o(!1),n.focus())}}),e(a,"click",e=>{e.target.closest(".wf-dropdown__item")&&(e.preventDefault(),o(!1),n.focus())})}function s(e){function t(t){if("Tab"!==t.key)return;const n=r(e);if(!n.length)return;const a=n.indexOf(document.activeElement);t.shiftKey&&a<=0?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||a!==n.length-1||(t.preventDefault(),n[0].focus())}return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}function c(e){return Array.from(document.body.children).filter(t=>t!==e&&"SCRIPT"!==t.tagName)}function d(t,n,a){const o=Object.assign({closeSelectors:[".wf-modal__close","[data-close]"]},a||{});let l=null,d=null,u=null;let f=[];const m=n.querySelector(".wf-modal");if(m){m.hasAttribute("role")||m.setAttribute("role","dialog"),m.setAttribute("aria-modal","true");const e=m.querySelector(".wf-modal__title");e&&!m.hasAttribute("aria-labelledby")&&m.setAttribute("aria-labelledby",i(e,"modal-title"))}let g=null;function h(e){if(e&&n.parentElement!==document.body&&(u=document.createComment("wfui-modal-placeholder"),n.parentNode.insertBefore(u,n.nextSibling),document.body.appendChild(n)),n.classList.toggle("is-open",e),n.setAttribute("aria-hidden",String(!e)),e){l=document.activeElement;const e=r(n)[0];e?(e.focus(),requestAnimationFrame(()=>{f=c(n),f.forEach(e=>e.setAttribute("aria-hidden","true"))})):(f=c(n),f.forEach(e=>e.setAttribute("aria-hidden","true"))),d=s(n),g=function(e){if("Tab"!==e.key)return;if(!n.classList.contains("is-open"))return;const t=r(n);if(!t.length)return;const a=t.indexOf(document.activeElement);e.shiftKey&&a<=0?(e.preventDefault(),t[t.length-1].focus()):e.shiftKey||a!==t.length-1||(e.preventDefault(),t[0].focus())},document.addEventListener("keydown",g,!0)}else f.forEach(e=>e.removeAttribute("aria-hidden")),f=[],d&&d(),g&&(document.removeEventListener("keydown",g,!0),g=null),u&&u.parentNode&&(u.parentNode.insertBefore(n,u.nextSibling),u.remove(),u=null),l&&setTimeout(()=>l.focus(),0)}return e(t,"click",()=>h(!0)),o.closeSelectors.flatMap(e=>Array.from(n.querySelectorAll(e))).forEach(t=>e(t,"click",()=>h(!1))),e(n,"click",e=>{e.target===n&&h(!1)}),e(document,"keydown",e=>{"Escape"===e.key&&h(!1)}),{open:()=>h(!0),close:()=>h(!1)}}function u(t,n,a){let i=null,o=null,l=null,d=null;let u=[];function f(e){if(e&&(n.parentElement!==document.body&&(l=document.createComment("wfui-oc-panel"),n.parentNode.insertBefore(l,n.nextSibling),document.body.appendChild(n)),a.parentElement!==document.body&&(d=document.createComment("wfui-oc-overlay"),a.parentNode.insertBefore(d,a.nextSibling),document.body.appendChild(a))),n.hidden=!e,a.hidden=!e,n.classList.toggle("is-open",e),a.classList.toggle("is-open",e),e){i=document.activeElement;const e=r(n)[0];e?(e.focus(),requestAnimationFrame(()=>{u=c(n),u.forEach(e=>e.setAttribute("aria-hidden","true"))})):(u=c(n),u.forEach(e=>e.setAttribute("aria-hidden","true"))),o=s(n)}else u.forEach(e=>e.removeAttribute("aria-hidden")),u=[],l&&l.parentNode&&(l.parentNode.insertBefore(n,l.nextSibling),l.remove(),l=null),d&&d.parentNode&&(d.parentNode.insertBefore(a,d.nextSibling),d.remove(),d=null),o&&o(),i&&setTimeout(()=>i.focus(),0)}e(t,"click",()=>f(!0));const m=n.querySelector('[id$="close"], .wf-btn, [data-close]');return m&&e(m,"click",()=>f(!1)),e(a,"click",()=>f(!1)),e(document,"keydown",e=>{"Escape"===e.key&&f(!1)}),{open:()=>f(!0),close:()=>f(!1)}}function f(t){if(!t)return;const n=t.querySelector('[role="tablist"], .wf-tablist'),a=Array.from(t.querySelectorAll('[role="tab"], .wf-tab')),r=Array.from(t.querySelectorAll('[role="tabpanel"], .wf-tabpanel'));if(!n||0===a.length||0===r.length)return;function o(e){a.forEach((t,n)=>{const a=n===e;t.setAttribute("aria-selected",String(a)),t.setAttribute("tabindex",a?"0":"-1"),t.classList.toggle("is-active",a),r[n].setAttribute("aria-hidden",String(!a)),r[n].classList.toggle("is-active",a),a?r[n].removeAttribute("hidden"):r[n].setAttribute("hidden","")}),a[e].focus()}n.hasAttribute("role")||n.setAttribute("role","tablist"),a.forEach((e,t)=>{e.hasAttribute("role")||e.setAttribute("role","tab");const n=i(r[t],"panel"),a=i(e,"tab");e.setAttribute("aria-controls",n),r[t].setAttribute("aria-labelledby",a),r[t].hasAttribute("role")||r[t].setAttribute("role","tabpanel")}),a.forEach((t,n)=>{e(t,"click",()=>o(n)),e(t,"keydown",e=>{let t=n;if("ArrowRight"===e.key)t=(n+1)%a.length;else if("ArrowLeft"===e.key)t=(n-1+a.length)%a.length;else if("Home"===e.key)t=0;else{if("End"!==e.key)return;t=a.length-1}e.preventDefault(),o(t)})});const l=a.findIndex(e=>e.classList.contains("is-active")||"true"===e.getAttribute("aria-selected"));o(l>=0?l:0)}function m(t){if(!t)return;let n=document.getElementById("wf-table-status");n||(n=document.createElement("div"),n.id="wf-table-status",n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.className="wf-sr-only",document.body.appendChild(n));Array.from(t.querySelectorAll(".wf-sort")).forEach(a=>{const r=a.closest("th");if(!r)return;const i="wf-sort-help";let o=document.getElementById(i);o||(o=document.createElement("span"),o.id=i,o.className="wf-sr-only",o.textContent="昇順または降順で並び替えるには、Enterキーを押してください",document.body.appendChild(o)),a.setAttribute("aria-describedby",i),e(a,"click",()=>{const e=r.getAttribute("aria-sort"),i=a.textContent.trim();let o="ascending";t.querySelectorAll("th[aria-sort]").forEach(e=>{e!==r&&e.removeAttribute("aria-sort")}),"ascending"===e?o="descending":"descending"===e&&(o="none"),"none"===o?r.removeAttribute("aria-sort"):r.setAttribute("aria-sort",o);const l="none"===o?`${i}列のソートを解除しました`:`${i}列を${"ascending"===o?"昇順":"降順"}に並び替えました`;n.textContent=l})})}function g(e,t){if(!e)return;const n=Object.assign({mode:"daily",timeInterval:60,timeRange:"all-day",selectedDate:null,onSelect:null,onGenerate:null},t||{}),a={"all-day":{label:"24時間表示",start:0,end:23}};function r(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()-e.getDay()+1),0===t.getDay()&&t.setDate(t.getDate()-7),t}const i={selectedSlots:new Set,isSelecting:!1,displayMode:n.mode,selectedDate:n.selectedDate||(new Date).toISOString().split("T")[0],currentWeekStart:r(),timeInterval:n.timeInterval,timeRangePattern:n.timeRange,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),lastSelectedSlot:null,rangeSelectionStart:null,isRangeSelecting:!1};function o(){const e=a[i.timeRangePattern],t=[];for(let n=e.start;n<=e.end;n++)for(let a=0;a<60&&!(n===e.end&&a>0);a+=i.timeInterval){const e=`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;t.push(e)}return t}function l(e,t){let n;return n=e instanceof Date?e.toISOString().split("T")[0]:e,`${n}-${t}`}function s(e,t){return i.selectedSlots.has(l(e,t))}function c(e,t,a=!1){const r=l(e,t);a||!i.selectedSlots.has(r)?i.selectedSlots.add(r):a||i.selectedSlots.delete(r),f(),n.onSelect&&n.onSelect(Array.from(i.selectedSlots))}function d(e,t){i.isMobile||(i.isSelecting=!0,c(e,t),i.lastSelectedSlot=l(e,t),document.addEventListener("mouseup",u))}function u(){i.isSelecting=!1,i.lastSelectedSlot=null,document.removeEventListener("mouseup",u)}function f(){const t=e.querySelector(".wf-schedule__time-grid"),n=e.querySelector(".wf-schedule__calendar-grid"),r=e.querySelector(".wf-schedule__calendar-header"),c=e.querySelector(".wf-schedule__daily"),d=e.querySelector(".wf-schedule__weekly"),u=e.querySelector(".wf-schedule__week-title"),f=e.querySelector(".wf-schedule__help");if(c&&c.classList.toggle("is-hidden","daily"!==i.displayMode),d&&d.classList.toggle("is-hidden","weekly"!==i.displayMode),u&&"weekly"===i.displayMode&&(u.textContent=`${i.currentWeekStart.getFullYear()}年${i.currentWeekStart.getMonth()+1}月 週間表示`),t&&"daily"===i.displayMode){const e=o(),n=15===i.timeInterval?"4":30===i.timeInterval?"6":"8";t.className=`wf-schedule__time-grid cols-${n}`,t.innerHTML=e.map(e=>{let t="wf-schedule__time-slot "+(s(i.selectedDate,e)?"is-selected":"");i.isRangeSelecting&&i.rangeSelectionStart&&i.rangeSelectionStart.time===e&&l(i.rangeSelectionStart.date,e)===l(i.selectedDate,e)&&(t+=" is-range-start");return`<div class="${t}" data-time="${e}" ${i.isMobile?`onclick="handleTimeSlotClick('${i.selectedDate}', '${e}')"`:`onmousedown="handleTimeSlotMouseDown('${i.selectedDate}', '${e}')" onmouseenter="handleTimeSlotMouseEnter('${i.selectedDate}', '${e}')"`}>${e}</div>`}).join(""),i.isMobile||(t.addEventListener("mouseleave",()=>{i.isSelecting=!1,i.lastSelectedSlot=null}),t.addEventListener("selectstart",e=>e.preventDefault()),t.addEventListener("contextmenu",e=>{i.isSelecting&&e.preventDefault()}))}if(n&&"weekly"===i.displayMode){const e=o(),t=function(){const e=[];for(let t=0;t<7;t++){const n=new Date(i.currentWeekStart);n.setDate(i.currentWeekStart.getDate()+t),e.push(n)}return e}();r&&(r.innerHTML=`<div class="wf-schedule__time-label">時間</div>${t.map(e=>`<div class="wf-schedule__date-header"><div class="wf-schedule__date-weekday">${function(e){return["日","月","火","水","木","金","土"][e.getDay()]}(e)}</div><div class="wf-schedule__date-day">${e.getMonth()+1}/${e.getDate()}</div></div>`).join("")}`),n.innerHTML=e.map(e=>{let n=`<div class="wf-schedule__week-time-label">${e.slice(0,5)}</div>`;return t.forEach(t=>{const a=s(t,e),r=t.toISOString().split("T")[0];let o="wf-schedule__week-time-slot "+(a?"is-selected":"");i.isRangeSelecting&&i.rangeSelectionStart&&i.rangeSelectionStart.time===e&&l(i.rangeSelectionStart.date,e)===l(r,e)&&(o+=" is-range-start");const c=i.isMobile?`onclick="handleTimeSlotClick('${r}', '${e}')"`:`onmousedown="handleTimeSlotMouseDown('${r}', '${e}')" onmouseenter="handleTimeSlotMouseEnter('${r}', '${e}')"`;n+=`<div class="${o}" data-date="${r}" data-time="${e}" ${c}>${a?"選択中":""}</div>`}),n}).join(""),i.isMobile||(n.addEventListener("mouseleave",()=>{i.isSelecting=!1,i.lastSelectedSlot=null}),n.addEventListener("selectstart",e=>e.preventDefault()),n.addEventListener("contextmenu",e=>{i.isSelecting&&e.preventDefault()}))}if(f){const e=a[i.timeRangePattern];f.innerHTML=`クリックまたはドラッグして時間帯を選択してください（${e.label}: ${e.start}:00-${e.end}:00、${i.timeInterval}分刻み）${i.isMobile?'<div style="font-size: 0.75rem; color: var(--wf-color-muted); margin-top: 0.25rem;">スマホ：1回目のタップで開始、2回目のタップで終了時間を選択</div>':""}`}}return window.handleTimeSlotMouseDown=d,window.handleTimeSlotMouseEnter=function(e,t){if(!i.isMobile&&i.isSelecting){const n=l(e,t);n!==i.lastSelectedSlot&&(c(e,t),i.lastSelectedSlot=n)}},window.handleTimeSlotClick=function(e,t){i.isMobile?function(e,t){const n=l(e,t);i.isRangeSelecting?(i.rangeSelectionStart&&function(e,t,n,a){const r=o(),i=l(e,t),s=l(n,a),d=i.split("-").slice(0,3).join("-"),u=s.split("-").slice(0,3).join("-");if(d===u){const n=r.indexOf(t),i=r.indexOf(a),o=Math.min(n,i),l=Math.max(n,i);for(let t=o;t<=l;t++)c(e,r[t],!0)}else c(n,a)}(i.rangeSelectionStart.date,i.rangeSelectionStart.time,e,t),i.rangeSelectionStart=null,i.isRangeSelecting=!1,f()):i.selectedSlots.has(n)?c(e,t):(i.rangeSelectionStart={date:e,time:t},i.isRangeSelecting=!0,f())}(e,t):d(e,t)},f(),{getSelectedSlots:()=>Array.from(i.selectedSlots),clearSelection:()=>{i.selectedSlots.clear(),i.rangeSelectionStart=null,i.isRangeSelecting=!1,f()},setMode:e=>{i.displayMode=e,f()},setTimeInterval:e=>{i.timeInterval=e,i.selectedSlots.clear(),f()},setTimeRange:e=>{i.timeRangePattern=e,i.selectedSlots.clear(),f()},setSelectedDate:e=>{i.selectedDate=e,f()},navigateWeek:e=>{const t=new Date(i.currentWeekStart);t.setDate(i.currentWeekStart.getDate()+7*e),i.currentWeekStart=t,f()},getCurrentWeekStart:()=>new Date(i.currentWeekStart),goToCurrentWeek:()=>{i.currentWeekStart=r(),f()},generateText:()=>{const e={};if(Array.from(i.selectedSlots).forEach(t=>{const n=t.split("-"),a=n.slice(0,3).join("-"),r=n.slice(3).join(":");e[a]||(e[a]=[]),e[a].push(r)}),0===Object.keys(e).length)return"";const t=[];return Object.keys(e).sort().forEach(n=>{const a=e[n].sort(),r=[];let o=a[0],l=a[0];for(let e=1;e<a.length;e++){const[t,n]=a[e-1].split(":").map(Number),[s,c]=a[e].split(":").map(Number);if(60*s+c===60*t+n+i.timeInterval)l=a[e];else{const[t,n]=l.split(":").map(Number);let s=n+i.timeInterval,c=t;s>=60&&(s-=60,c+=1);const d=`${c.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;r.push(`${o}-${d}`),o=a[e],l=a[e]}}if(o){const[e,t]=l.split(":").map(Number);let n=t+i.timeInterval,a=e;n>=60&&(n-=60,a+=1);const s=`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`;r.push(`${o}-${s}`)}const s=n.replace(/-/g,"/");t.push(`${s} ${r.join(",")}`)}),t.join("\n")}}}function h(e,t){if(!e)return;if(e._wfCalendarInstance)return e._wfCalendarInstance;const n=Object.assign({selectedDate:null,selectedDates:[],minDate:null,maxDate:null,weekStart:1,allowMultiple:!1,allowRange:!1,onSelect:null,onNavigate:null},t||{}),a=0===n.weekStart?["日","月","火","水","木","金","土"]:["月","火","水","木","金","土","日"];let r=new Date;if(n.minDate){const[e,t]=n.minDate.split("-").map(Number),a=new Date(e,t-1,1);r<a&&(r=a)}if(n.maxDate){const[e,t]=n.maxDate.split("-").map(Number),a=new Date(e,t-1,1);r>a&&(r=a)}const i={currentDate:r,selectedDate:n.selectedDate?(()=>{const[e,t,a]=n.selectedDate.split("-").map(Number);return new Date(e,t-1,a)})():null,selectedDates:new Set(n.selectedDates||[]),rangeStart:null,rangeEnd:null,allowMultiple:n.allowMultiple,allowRange:n.allowRange};function o(e){return new Date(e.getFullYear(),e.getMonth(),1)}function l(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function s(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function c(e){const t=s(e);if(n.minDate){if(t<(n.minDate.includes("T")?n.minDate.split("T")[0]:n.minDate))return!0}if(n.maxDate){if(t>(n.maxDate.includes("T")?n.maxDate.split("T")[0]:n.maxDate))return!0}return!1}function d(e){if(!i.rangeStart)return!1;return s(e)===s(i.rangeStart)}function u(e){if(!i.rangeEnd)return!1;return s(e)===s(i.rangeEnd)}function f(){e.querySelector(".wf-calendar__header");const t=e.querySelector(".wf-calendar__title"),r=e.querySelector(".wf-calendar__grid"),m=e.querySelector(".wf-calendar__weekdays");if(t&&(t.textContent=`${i.currentDate.getFullYear()}年${i.currentDate.getMonth()+1}月`),m&&(m.innerHTML=a.map((e,t)=>`<div class="wf-calendar__weekday${(1===n.weekStart?t>=5:0===t||6===t)?" wf-calendar__weekday--weekend":""}">${e}</div>`).join("")),r){o(i.currentDate),l(i.currentDate);const t=function(e){let t=o(e).getDay();return 1===n.weekStart&&(t=0===t?6:t-1),t}(i.currentDate),a=l(i.currentDate).getDate(),m=[];if(t>0){const e=new Date(i.currentDate.getFullYear(),i.currentDate.getMonth()-1,0).getDate();for(let n=t-1;n>=0;n--){const t=e-n,a=new Date(i.currentDate.getFullYear(),i.currentDate.getMonth()-1,t);m.push({date:a,isOtherMonth:!0})}}for(let e=1;e<=a;e++){const t=new Date(i.currentDate.getFullYear(),i.currentDate.getMonth(),e);m.push({date:t,isOtherMonth:!1})}const g=42-m.length;for(let e=1;e<=g;e++){const t=new Date(i.currentDate.getFullYear(),i.currentDate.getMonth()+1,e);m.push({date:t,isOtherMonth:!0})}r.innerHTML=m.map(({date:e,isOtherMonth:t})=>{const n=s(e);let a="wf-calendar__day";return function(e){const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}(e)&&(a+=" is-today"),function(e){const t=s(e),n=i.selectedDate?s(i.selectedDate):null;return i.selectedDates.has(t)||n&&t===n}(e)&&(a+=" is-selected"),c(e)&&(a+=" is-disabled"),t&&(a+=" is-other-month"),i.allowRange&&(d(e)&&(a+=" is-range-start"),u(e)&&(a+=" is-range-end"),!function(e){if(!i.rangeStart||!i.rangeEnd)return!1;const t=s(e),n=s(i.rangeStart),a=s(i.rangeEnd);return t>=n&&t<=a}(e)||d(e)||u(e)||(a+=" is-in-range")),`<button type="button" class="${a}" data-date="${n}" tabindex="${c(e)||t?"-1":"0"}">${e.getDate()}</button>`}).join(""),r.querySelectorAll(".wf-calendar__day").forEach(t=>{t.addEventListener("click",()=>{const a=t.getAttribute("data-date"),[r,o,l]=a.split("-").map(Number);!function(t){const a=s(t);c(t)||(i.allowRange?!i.rangeStart||i.rangeStart&&i.rangeEnd?(i.rangeStart=t,i.rangeEnd=null):t<i.rangeStart?(i.rangeEnd=i.rangeStart,i.rangeStart=t):i.rangeEnd=t:i.allowMultiple?i.selectedDates.has(a)?i.selectedDates.delete(a):i.selectedDates.add(a):(i.selectedDate=t,i.selectedDates.clear()),f(),n.onSelect&&(i.allowRange?i.rangeStart&&i.rangeEnd?n.onSelect({start:s(i.rangeStart),end:s(i.rangeEnd)}):i.rangeStart&&n.onSelect({start:s(i.rangeStart),end:null}):i.allowMultiple?n.onSelect(Array.from(i.selectedDates)):n.onSelect(a)),e.dispatchEvent(new CustomEvent("wf-calendar-select",{detail:i.allowRange?i.rangeStart&&i.rangeEnd?{start:s(i.rangeStart),end:s(i.rangeEnd)}:i.rangeStart?{start:s(i.rangeStart),end:null}:null:i.allowMultiple?Array.from(i.selectedDates):a})))}(new Date(r,o-1,l))})})}}function m(e){const t=new Date(i.currentDate);t.setMonth(i.currentDate.getMonth()+e),i.currentDate=t,f(),n.onNavigate&&n.onNavigate(i.currentDate.getFullYear(),i.currentDate.getMonth()+1)}const g=e.querySelector('[data-action="prev"]'),h=e.querySelector('[data-action="next"]');g&&g.addEventListener("click",()=>m(-1)),h&&h.addEventListener("click",()=>m(1)),f();const p={getSelectedDate:()=>i.selectedDate?s(i.selectedDate):null,getSelectedDates:()=>Array.from(i.selectedDates),getRange:()=>i.rangeStart&&i.rangeEnd?{start:s(i.rangeStart),end:s(i.rangeEnd)}:null,setSelectedDate:e=>{if(e){const[t,n,a]=e.split("-").map(Number);i.selectedDate=new Date(t,n-1,a)}else i.selectedDate=null;i.selectedDates.clear(),f()},setSelectedDates:e=>{i.selectedDates=new Set(e||[]),i.selectedDate=null,f()},navigateMonth:e=>{m(e)},goToMonth:(e,t)=>{i.currentDate=new Date(e,t-1,1),f()},goToToday:()=>{i.currentDate=new Date,f()}};return e._wfCalendarInstance=p,e._wfCalendarConfig=n,p}function p(t){if(!t)return;if(t.querySelector(".wf-code-copy"))return;t.classList.add("wf-code-block--copy");const n=document.createElement("button");n.className="wf-code-copy",n.textContent="コピー",n.type="button",n.setAttribute("aria-label","コードをコピー"),t.appendChild(n),e(n,"click",async()=>{const e=t.querySelector("code")||t,a=e.textContent||e.innerText;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(a);else{const e=document.createElement("textarea");e.value=a,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}const e=n.textContent;n.textContent="コピーしました！",n.classList.add("is-copied"),setTimeout(()=>{n.textContent=e,n.classList.remove("is-copied")},2e3)}catch(e){n.textContent="コピー失敗",setTimeout(()=>{n.textContent="コピー"},2e3)}})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-wf-tooltip]").forEach(e=>{const t=e.getAttribute("data-wf-tooltip"),n=document.getElementById(t);n&&a(e,n)}),document.querySelectorAll("[data-wf-popover]").forEach(e=>{const t=e.getAttribute("data-wf-popover"),n=document.getElementById(t);n&&o(e,n)}),document.querySelectorAll(".wf-dropdown").forEach(e=>l(e)),document.querySelectorAll("[data-wf-modal]").forEach(e=>{const t=e.getAttribute("data-wf-modal"),n=document.getElementById(t);n&&d(e,n)}),document.querySelectorAll("[data-wf-offcanvas]").forEach(e=>{const t=e.getAttribute("data-wf-offcanvas"),n=document.getElementById(t),a=e.getAttribute("data-wf-offcanvas-overlay")||t+"-overlay",r=document.getElementById(a);n&&r&&u(e,n,r)}),document.querySelectorAll("[data-wf-tabs]").forEach(e=>{f(e.parentElement)}),document.querySelectorAll(".wf-tabs").forEach(e=>f(e)),document.querySelectorAll(".wf-table").forEach(e=>{e.querySelector(".wf-sort")&&m(e)}),document.querySelectorAll("[data-wf-codeblock]").forEach(e=>p(e)),document.querySelectorAll("[data-wf-schedule], .wf-schedule").forEach(e=>{const t=e.getAttribute("data-wf-schedule-mode")||"daily",n=parseInt(e.getAttribute("data-wf-schedule-interval"))||60,a=e.getAttribute("data-wf-schedule-range")||"all-day",r=e.getAttribute("data-wf-schedule-date");g(e,{mode:t,timeInterval:n,timeRange:a,selectedDate:r})}),document.querySelectorAll("[data-wf-calendar], .wf-calendar").forEach(e=>{const t=e.getAttribute("data-wf-calendar-date"),n="true"===e.getAttribute("data-wf-calendar-multiple"),a="true"===e.getAttribute("data-wf-calendar-range"),r=e.getAttribute("data-wf-calendar-week-start"),i=null!==r?parseInt(r):1,o=e.getAttribute("data-wf-calendar-min-date"),l=e.getAttribute("data-wf-calendar-max-date");h(e,{selectedDate:t,allowMultiple:n,allowRange:a,weekStart:i,minDate:o,maxDate:l})})}),window.WFUI={tooltip:a,popover:o,dropdown:l,modal:d,offcanvas:u,tabs:f,sortableTable:m,codeblock:p,schedule:g,calendar:h}}(),function(){if("undefined"!=typeof window&&window.WFUI){var e=window.WFUI;!function(){e.tooltip;e.tooltip=function(e,a,r){var i=Object.assign({margin:8,placement:"auto"},r||{}),o=a.id||"wf-tooltip-"+Math.random().toString(36).substr(2,9);function l(){var t=e.getBoundingClientRect(),r=function(e){var t=e.hidden,n=e.style.visibility,a=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");var r=e.offsetWidth||180,i=e.offsetHeight||40;return a||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:r,h:i}}(a),o=r.w,l=r.h,s=i.placement;"auto"===s&&(s=t.top<l+i.margin+10?"bottom":"top");if(a.style.position="fixed",a.classList.remove("is-top","is-bottom","is-left","is-right"),"left"===s||"right"===s){var c=t.top+t.height/2,d="right"===s?t.right+i.margin:t.left-o-i.margin;d=n(d,4,window.innerWidth-o-4),c=n(c,4+l/2,window.innerHeight-4-l/2),a.style.left=Math.round(d)+"px",a.style.top=Math.round(c)+"px",a.style.transform="translateY(-50%)",a.classList.add("right"===s?"is-right":"is-left")}else{var u=t.left+t.width/2,f=u;f=n(f,i.margin+o/2,window.innerWidth-i.margin-o/2);var m="bottom"===s?t.bottom+i.margin:t.top-l-i.margin;a.style.left=Math.round(f)+"px",a.style.top=Math.round(m)+"px",a.style.transform="translateX(-50%)",a.classList.add("bottom"===s?"is-bottom":"is-top");var g=Math.max(0,o/2-8),h=n(u-f,-g,g);a.style.setProperty("--wf-arrow-x",h+"px")}}function s(e){e&&l(),a.hidden=!e,a.classList.toggle("is-open",e),a.setAttribute("aria-hidden",e?"false":"true")}a.id||(a.id=o),e.getAttribute("aria-describedby")||e.setAttribute("aria-describedby",o),a.getAttribute("role")||a.setAttribute("role","tooltip"),a.hasAttribute("aria-hidden")||a.setAttribute("aria-hidden","true"),t(e,"mouseenter",function(){s(!0)}),t(e,"mouseleave",function(){s(!1)}),t(e,"focus",function(){s(!0)}),t(e,"blur",function(){s(!1)}),t(document,"keydown",function(e){"Escape"!==e.key||a.hidden||s(!1)}),t(window,"scroll",function(){a.hidden||l()},{passive:!0}),t(window,"resize",function(){a.hidden||l()})}}(),function(){e.popover;e.popover=function(e,a,r){var i=Object.assign({margin:8,placement:"auto",preventDefault:!0},r||{});function o(){var t=e.getBoundingClientRect(),r=function(e){var t=e.hidden,n=e.style.visibility,a=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");var r=e.offsetWidth||180,i=e.offsetHeight||40;return a||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:r,h:i}}(a),o=r.w,l=r.h,s=i.placement;"auto"===s&&(s=window.innerHeight-t.bottom<l+i.margin+10?"top":"bottom");if(a.style.position="fixed",a.classList.remove("is-top","is-bottom","is-left","is-right"),"left"===s||"right"===s){var c=t.top+t.height/2,d="right"===s?t.right+i.margin:t.left-o-i.margin;d=n(d,4,window.innerWidth-o-4),c=n(c,4+l/2,window.innerHeight-4-l/2),a.style.left=Math.round(d)+"px",a.style.top=Math.round(c)+"px",a.style.transform="translateY(-50%)",a.classList.add("right"===s?"is-right":"is-left")}else{var u=t.left+t.width/2,f=u;f=n(f,i.margin+o/2,window.innerWidth-i.margin-o/2);var m="bottom"===s?t.bottom+i.margin:t.top-l-i.margin;a.style.left=Math.round(f)+"px",a.style.top=Math.round(m)+"px",a.style.transform="translateX(-50%)",a.classList.add("bottom"===s?"is-bottom":"is-top");var g=Math.max(0,o/2-10),h=n(u-f,-g,g);a.style.setProperty("--wf-arrow-x",h+"px")}}var l=null;function s(e){a.hidden=!e,a.classList.toggle("is-open",e),e?(l=document.activeElement,o(),setTimeout(function(){var e=a.querySelector('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');e?e.focus():(a.setAttribute("tabindex","-1"),a.focus())},0)):l&&l.focus&&setTimeout(function(){l.focus()},0)}t(e,"click",function(t){i.preventDefault&&function(e){var t=(e.tagName||"").toUpperCase();if("BUTTON"===t)return!0;if("INPUT"===t){var n=(e.type||"").toLowerCase();return"submit"===n||"button"===n}if("A"===t){var a=e.getAttribute("href");return!a||"#"===a}return!(!e.closest||!e.closest("form"))}(e)&&t.preventDefault(),s(a.hidden)}),t(document,"click",function(t){a.contains(t.target)||t.target===e||s(!1)}),t(window,"resize",function(){a.hidden||o()}),t(window,"scroll",function(){a.hidden||o()},{passive:!0}),t(e,"keydown",function(e){"Escape"===e.key&&s(!1),"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s(a.hidden))}),t(a,"keydown",function(e){"Escape"===e.key&&s(!1)})}}(),function(){if(e.schedule){var n=e.schedule;e.schedule=function(e,r){var o=Object.assign({},r||{}),l=null,s=Number(o.timeInterval||60);o.timeRange&&(l=a(o.timeRange)),o.timeRange="all-day";var c=n(e,o),d=e.querySelector(".wf-schedule__daily"),u=e.querySelector(".wf-schedule__settings"),f=e.querySelector('input[type="date"]'),m=!(!r||!r.selectedDate)||f&&!!f.value;function g(){d&&d.classList.toggle("is-hidden",!m),u&&u.classList.toggle("is-hidden",!m)}if(g(),f&&t(f,"change",function(){m=!!f.value,g(),c.setSelectedDate&&c.setSelectedDate(f.value||null),setTimeout(function(){i(e,l)},0)}),c.setSelectedDate){var h=c.setSelectedDate;c.setSelectedDate=function(t){m=!!t,g();var n=h.call(c,t);return setTimeout(function(){i(e,l)},0),n}}if(c.setMode){var p=c.setMode;c.setMode=function(t){var n=p.call(c,t);return setTimeout(function(){i(e,l)},0),n}}if(c.navigateWeek){var w=c.navigateWeek;c.navigateWeek=function(t){var n=w.call(c,t);return setTimeout(function(){i(e,l)},0),n}}if(c.setTimeInterval){var y=c.setTimeInterval;c.setTimeInterval=function(t){s=Number(t||s);var n=y.call(c,t);return setTimeout(function(){i(e,l)},0),n}}if(c.clearSelection){var b=c.clearSelection;c.clearSelection=function(){var t=b.call(c);return setTimeout(function(){i(e,l)},0),t}}if(c.setTimeRange){var S=c.setTimeRange;c.setTimeRange=function(t){l=a(t);var n=S.call(c,"all-day");return setTimeout(function(){i(e,l)},0),n}}return new MutationObserver(function(){var t=e.querySelector(".wf-schedule__help");if(t&&t.innerHTML){var n=t.innerHTML,a=!1;if(n.indexOf("勤怠：ノーマル")>=0&&(n=n.replace(/勤怠：ノーマル/g,"標準"),a=!0),n.indexOf("勤怠：モダン")>=0&&(n=n.replace(/勤怠：モダン/g,"拡張"),a=!0),l){var r="（"+(l.label||"時間帯")+": "+String(l.start).padStart(2,"0")+":00-"+String(l.end).padStart(2,"0")+":00、"+s+"分刻み）";n=n.replace(/（.*?）/,r),a=!0}a&&(t.innerHTML=n)}}).observe(e,{subtree:!0,childList:!0,characterData:!0}),setTimeout(function(){i(e,l)},0),c}}function a(e){if(!e||"all-day"===e)return null;if("daytime"===e)return{start:8,end:18,label:"標準"};if("extended"===e)return{start:10,end:20,label:"拡張"};if("function"==typeof e)return a(e(new Date));if("object"==typeof e){var t=Number(e.start),n=Number(e.end);if(!(isFinite(t)&&isFinite(n)&&t>=0&&n<=24&&t<n))throw new Error("WFUI.schedule: invalid custom timeRange. Expect { start:number(0-23), end:number(1-24), label?:string } with start < end");return{start:Math.floor(t),end:Math.floor(n),label:e.label||"カスタム"}}throw new Error("WFUI.schedule: unsupported timeRange value")}function r(e,t,n){return!n||!(e<n.start)&&(!(e>n.end)&&!(e===n.end&&t>0))}function i(e,t){var n=e.querySelector(".wf-schedule__time-grid");n&&n.querySelectorAll(".wf-schedule__time-slot").forEach(function(e){var n=(e.getAttribute("data-time")||"").split(":"),a=Number(n[0]||0),i=Number(n[1]||0);t?e.style.display=r(a,i,t)?"":"none":e.style.removeProperty("display")});var a=e.querySelector(".wf-schedule__calendar-grid");a&&(a.querySelectorAll(".wf-schedule__week-time-slot").forEach(function(e){var n=(e.getAttribute("data-time")||"").split(":"),a=Number(n[0]||0),i=Number(n[1]||0);t?e.style.display=r(a,i,t)?"":"none":e.style.removeProperty("display")}),a.querySelectorAll(".wf-schedule__week-time-label").forEach(function(e){var n=(e.textContent||"").trim().split(":"),a=Number(n[0]||0),i=Number(n[1]||0);t?e.style.display=r(a,i,t)?"":"none":e.style.removeProperty("display")}))}}()}function t(e,t,n,a){e&&e.addEventListener(t,n,a)}function n(e,t,n){return Math.max(t,Math.min(n,e))}}();