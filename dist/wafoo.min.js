!function(){function e(e,t,n,o){e&&e.addEventListener(t,n,o)}function t(e){const t=e.hidden,n=e.style.visibility,o=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");const r=e.offsetWidth||180,i=e.offsetHeight||40;return o||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:r,h:i}}function n(e,t,n){return Math.max(t,Math.min(n,e))}function o(o,r,i){const l=Object.assign({margin:8},i||{});function a(){const e=o.getBoundingClientRect(),{w:i,h:a}=t(r),s=e.left+e.width/2;let c=s;c=n(c,l.margin+i/2,window.innerWidth-l.margin-i/2);const d=e.top<a+l.margin+10;r.classList.toggle("is-top",!d),r.classList.toggle("is-bottom",d),r.style.position="fixed",r.style.left=Math.round(c)+"px",r.style.top=Math.round(d?e.bottom+l.margin:e.top)+"px";const u=Math.max(0,i/2-8),f=n(s-c,-u,u);r.style.setProperty("--wf-arrow-x",f+"px")}function s(e){e&&a(),r.hidden=!e,r.classList.toggle("is-open",e)}e(o,"mouseenter",()=>s(!0)),e(o,"mouseleave",()=>s(!1)),e(o,"focus",()=>s(!0)),e(o,"blur",()=>s(!1)),e(document,"keydown",e=>{"Escape"!==e.key||r.hidden||s(!1)}),e(window,"scroll",()=>{r.hidden||a()},{passive:!0}),e(window,"resize",()=>{r.hidden||a()})}function r(e){return Array.from(e.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("disabled"))}function i(e,t){return e?(e.id||(e.id=(t||"wf")+"-"+Math.random().toString(36).slice(2,7)),e.id):null}function l(o,l,a){const s=Object.assign({margin:8},a||{});let c=null;l.hasAttribute("role")||l.setAttribute("role","dialog");const d=l.querySelector(".wf-popover__header, [data-popover-title]");d&&!l.hasAttribute("aria-labelledby")&&l.setAttribute("aria-labelledby",i(d,"pv-title"));let u=!1;function f(){const e=o.getBoundingClientRect(),{w:r,h:i}=t(l),a=e.left+e.width/2;let c=a;c=n(c,s.margin+r/2,window.innerWidth-s.margin-r/2);const d=window.innerHeight-e.bottom<i+s.margin+10;u=d;const f=d?e.top-i-s.margin:e.bottom+s.margin;l.style.position="fixed",l.style.left=Math.round(c)+"px",l.style.top=Math.round(f)+"px",l.style.transform="translateX(-50%)",l.classList.toggle("is-arrow-top",d),l.classList.toggle("is-arrow-bottom",!d);const m=Math.max(0,r/2-10),y=n(a-c,-m,m);l.style.setProperty("--wf-arrow-x",y+"px")}let m=0;function y(e){if(e){c=document.activeElement,l.hidden=!1,l.classList.add("is-open"),o.setAttribute("aria-expanded","true"),f();const e=r(l);e.length?requestAnimationFrame(()=>requestAnimationFrame(()=>e[0].focus())):(l.setAttribute("tabindex","-1"),requestAnimationFrame(()=>l.focus())),m=performance.now()+150}else l.hidden=!0,l.classList.remove("is-open"),o.setAttribute("aria-expanded","false"),c&&"function"==typeof c.focus&&setTimeout(()=>c.focus(),0)}e(o,"click",()=>y(l.hidden)),e(document,"click",e=>{performance.now()<m||l.contains(e.target)||e.target===o||y(!1)}),e(window,"resize",()=>{l.hidden||f()}),e(window,"scroll",()=>{l.hidden||f()},{passive:!0}),e(o,"keydown",e=>{"Escape"===e.key&&y(!1),"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),y(l.hidden))}),e(l,"keydown",e=>{if("Escape"===e.key&&y(!1),"Tab"===e.key){const t=r(l);if(!t.length)return;const n=t.indexOf(document.activeElement);e.shiftKey&&n<=0?(e.preventDefault(),t[t.length-1].focus()):e.shiftKey||n!==t.length-1||(e.preventDefault(),t[0].focus())}})}function a(t){if(!t)return;const n=t.querySelector(".wf-dropdown__toggle"),o=t.querySelector(".wf-dropdown__menu");if(!n||!o)return;o.hasAttribute("role")||o.setAttribute("role","menu"),o.querySelectorAll(".wf-dropdown__item").forEach(e=>{e.hasAttribute("role")||e.setAttribute("role","menuitem")});let r=null;function i(){return Array.from(o.querySelectorAll(".wf-dropdown__item"))}function l(e){if(t.classList.toggle("is-open",e),n.setAttribute("aria-expanded",String(e)),o.hidden=!e,e){r=document.activeElement;const e=i();e.forEach(e=>e.tabIndex=-1),e.length&&setTimeout(()=>e[0].focus(),0)}else r&&"function"==typeof r.focus&&setTimeout(()=>r.focus(),0)}e(n,"click",()=>l(!t.classList.contains("is-open"))),e(document,"click",e=>{t.contains(e.target)||l(!1)}),e(n,"keydown",e=>{if("Escape"===e.key&&l(!1),"Enter"!==e.key&&" "!==e.key||!o.hidden||(e.preventDefault(),l(!0)),!o.hidden&&("ArrowDown"===e.key||"ArrowUp"===e.key)){e.preventDefault();const t=i();t.length&&t["ArrowDown"===e.key?0:t.length-1].focus()}}),e(o,"keydown",e=>{if("Escape"===e.key&&l(!1),"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=i(),n=t.indexOf(document.activeElement);if(n<0)return;t["ArrowDown"===e.key?(n+1)%t.length:(n-1+t.length)%t.length].focus()}if("Tab"===e.key&&l(!1),"Enter"===e.key||" "===e.key){const t=document.activeElement;t&&t.classList.contains("wf-dropdown__item")&&(e.preventDefault(),l(!1),n.focus())}}),e(o,"click",e=>{e.target.closest(".wf-dropdown__item")&&(e.preventDefault(),l(!1),n.focus())})}function s(e){function t(t){if("Tab"!==t.key)return;const n=r(e);if(!n.length)return;const o=n.indexOf(document.activeElement);t.shiftKey&&o<=0?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||o!==n.length-1||(t.preventDefault(),n[0].focus())}return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}function c(e){return Array.from(document.body.children).filter(t=>t!==e&&"SCRIPT"!==t.tagName)}function d(t,n,o){const l=Object.assign({closeSelectors:[".wf-modal__close","[data-close]"]},o||{});let a=null,d=null,u=null;let f=[];const m=n.querySelector(".wf-modal");if(m){m.hasAttribute("role")||m.setAttribute("role","dialog"),m.setAttribute("aria-modal","true");const e=m.querySelector(".wf-modal__title");e&&!m.hasAttribute("aria-labelledby")&&m.setAttribute("aria-labelledby",i(e,"modal-title"))}let y=null;function h(e){if(e&&n.parentElement!==document.body&&(u=document.createComment("wfui-modal-placeholder"),n.parentNode.insertBefore(u,n.nextSibling),document.body.appendChild(n)),n.classList.toggle("is-open",e),n.setAttribute("aria-hidden",String(!e)),e){a=document.activeElement;const e=r(n)[0];e?(e.focus(),requestAnimationFrame(()=>{f=c(n),f.forEach(e=>e.setAttribute("aria-hidden","true"))})):(f=c(n),f.forEach(e=>e.setAttribute("aria-hidden","true"))),d=s(n),y=function(e){if("Tab"!==e.key)return;if(!n.classList.contains("is-open"))return;const t=r(n);if(!t.length)return;const o=t.indexOf(document.activeElement);e.shiftKey&&o<=0?(e.preventDefault(),t[t.length-1].focus()):e.shiftKey||o!==t.length-1||(e.preventDefault(),t[0].focus())},document.addEventListener("keydown",y,!0)}else f.forEach(e=>e.removeAttribute("aria-hidden")),f=[],d&&d(),y&&(document.removeEventListener("keydown",y,!0),y=null),u&&u.parentNode&&(u.parentNode.insertBefore(n,u.nextSibling),u.remove(),u=null),a&&setTimeout(()=>a.focus(),0)}return e(t,"click",()=>h(!0)),l.closeSelectors.flatMap(e=>Array.from(n.querySelectorAll(e))).forEach(t=>e(t,"click",()=>h(!1))),e(n,"click",e=>{e.target===n&&h(!1)}),e(document,"keydown",e=>{"Escape"===e.key&&h(!1)}),{open:()=>h(!0),close:()=>h(!1)}}function u(t,n,o){let i=null,l=null,a=null,d=null;let u=[];function f(e){if(e&&(n.parentElement!==document.body&&(a=document.createComment("wfui-oc-panel"),n.parentNode.insertBefore(a,n.nextSibling),document.body.appendChild(n)),o.parentElement!==document.body&&(d=document.createComment("wfui-oc-overlay"),o.parentNode.insertBefore(d,o.nextSibling),document.body.appendChild(o))),n.hidden=!e,o.hidden=!e,n.classList.toggle("is-open",e),o.classList.toggle("is-open",e),e){i=document.activeElement;const e=r(n)[0];e?(e.focus(),requestAnimationFrame(()=>{u=c(n),u.forEach(e=>e.setAttribute("aria-hidden","true"))})):(u=c(n),u.forEach(e=>e.setAttribute("aria-hidden","true"))),l=s(n)}else u.forEach(e=>e.removeAttribute("aria-hidden")),u=[],a&&a.parentNode&&(a.parentNode.insertBefore(n,a.nextSibling),a.remove(),a=null),d&&d.parentNode&&(d.parentNode.insertBefore(o,d.nextSibling),d.remove(),d=null),l&&l(),i&&setTimeout(()=>i.focus(),0)}e(t,"click",()=>f(!0));const m=n.querySelector('[id$="close"], .wf-btn, [data-close]');return m&&e(m,"click",()=>f(!1)),e(o,"click",()=>f(!1)),e(document,"keydown",e=>{"Escape"===e.key&&f(!1)}),{open:()=>f(!0),close:()=>f(!1)}}function f(t){if(!t)return;const n=t.querySelector('[role="tablist"], .wf-tablist'),o=Array.from(t.querySelectorAll('[role="tab"], .wf-tab')),r=Array.from(t.querySelectorAll('[role="tabpanel"], .wf-tabpanel'));if(!n||0===o.length||0===r.length)return;function l(e){o.forEach((t,n)=>{const o=n===e;t.setAttribute("aria-selected",String(o)),t.setAttribute("tabindex",o?"0":"-1"),t.classList.toggle("is-active",o),r[n].setAttribute("aria-hidden",String(!o)),r[n].classList.toggle("is-active",o)}),o[e].focus()}n.hasAttribute("role")||n.setAttribute("role","tablist"),o.forEach((e,t)=>{e.hasAttribute("role")||e.setAttribute("role","tab");const n=i(r[t],"panel"),o=i(e,"tab");e.setAttribute("aria-controls",n),r[t].setAttribute("aria-labelledby",o),r[t].hasAttribute("role")||r[t].setAttribute("role","tabpanel")}),o.forEach((t,n)=>{e(t,"click",()=>l(n)),e(t,"keydown",e=>{let t=n;if("ArrowRight"===e.key)t=(n+1)%o.length;else if("ArrowLeft"===e.key)t=(n-1+o.length)%o.length;else if("Home"===e.key)t=0;else{if("End"!==e.key)return;t=o.length-1}e.preventDefault(),l(t)})});const a=o.findIndex(e=>e.classList.contains("is-active")||"true"===e.getAttribute("aria-selected"));l(a>=0?a:0)}function m(t){if(!t)return;let n=document.getElementById("wf-table-status");n||(n=document.createElement("div"),n.id="wf-table-status",n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.className="wf-sr-only",document.body.appendChild(n));Array.from(t.querySelectorAll(".wf-sort")).forEach(o=>{const r=o.closest("th");if(!r)return;const i="wf-sort-help";let l=document.getElementById(i);l||(l=document.createElement("span"),l.id=i,l.className="wf-sr-only",l.textContent="昇順または降順で並び替えるには、Enterキーを押してください",document.body.appendChild(l)),o.setAttribute("aria-describedby",i),e(o,"click",()=>{const e=r.getAttribute("aria-sort"),i=o.textContent.trim();let l="ascending";t.querySelectorAll("th[aria-sort]").forEach(e=>{e!==r&&e.removeAttribute("aria-sort")}),"ascending"===e?l="descending":"descending"===e&&(l="none"),"none"===l?r.removeAttribute("aria-sort"):r.setAttribute("aria-sort",l);const a="none"===l?`${i}列のソートを解除しました`:`${i}列を${"ascending"===l?"昇順":"降順"}に並び替えました`;n.textContent=a})})}window.WFUI={tooltip:o,popover:l,dropdown:a,modal:d,offcanvas:u,tabs:f,sortableTable:m},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-wf-tooltip]").forEach(e=>{const t=e.getAttribute("data-wf-tooltip"),n=document.getElementById(t);n&&o(e,n)}),document.querySelectorAll("[data-wf-popover]").forEach(e=>{const t=e.getAttribute("data-wf-popover"),n=document.getElementById(t);n&&l(e,n)}),document.querySelectorAll(".wf-dropdown").forEach(e=>a(e)),document.querySelectorAll("[data-wf-modal]").forEach(e=>{const t=e.getAttribute("data-wf-modal"),n=document.getElementById(t);n&&d(e,n)}),document.querySelectorAll("[data-wf-offcanvas]").forEach(e=>{const t=e.getAttribute("data-wf-offcanvas"),n=document.getElementById(t),o=e.getAttribute("data-wf-offcanvas-overlay")||t+"-overlay",r=document.getElementById(o);n&&r&&u(e,n,r)}),document.querySelectorAll("[data-wf-tabs]").forEach(e=>{f(e.parentElement)}),document.querySelectorAll(".wf-tabs").forEach(e=>f(e)),document.querySelectorAll(".wf-table").forEach(e=>{e.querySelector(".wf-sort")&&m(e)})})}();