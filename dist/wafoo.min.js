!function(){if("undefined"!=typeof window&&window.WFUI){var e=window.WFUI;!function(){e.tooltip;e.tooltip=function(e,i,a){var r=Object.assign({margin:8,placement:"auto"},a||{}),o=i.id||"wf-tooltip-"+Math.random().toString(36).substr(2,9);function s(){var t=e.getBoundingClientRect(),a=function(e){var t=e.hidden,n=e.style.visibility,i=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");var a=e.offsetWidth||180,r=e.offsetHeight||40;return i||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:a,h:r}}(i),o=a.w,s=a.h,l=r.placement;"auto"===l&&(l=t.top<s+r.margin+10?"bottom":"top");if(i.style.position="fixed",i.classList.remove("is-top","is-bottom","is-left","is-right"),"left"===l||"right"===l){var c=t.top+t.height/2,u="right"===l?t.right+r.margin:t.left-o-r.margin;u=n(u,4,window.innerWidth-o-4),c=n(c,4+s/2,window.innerHeight-4-s/2),i.style.left=Math.round(u)+"px",i.style.top=Math.round(c)+"px",i.style.transform="translateY(-50%)",i.classList.add("right"===l?"is-right":"is-left")}else{var d=t.left+t.width/2,f=d;f=n(f,r.margin+o/2,window.innerWidth-r.margin-o/2);var m="bottom"===l?t.bottom+r.margin:t.top-s-r.margin;i.style.left=Math.round(f)+"px",i.style.top=Math.round(m)+"px",i.style.transform="translateX(-50%)",i.classList.add("bottom"===l?"is-bottom":"is-top");var p=Math.max(0,o/2-8),h=n(d-f,-p,p);i.style.setProperty("--wf-arrow-x",h+"px")}}function l(e){e&&s(),i.hidden=!e,i.classList.toggle("is-open",e),i.setAttribute("aria-hidden",e?"false":"true")}i.id||(i.id=o),e.getAttribute("aria-describedby")||e.setAttribute("aria-describedby",o),i.getAttribute("role")||i.setAttribute("role","tooltip"),i.hasAttribute("aria-hidden")||i.setAttribute("aria-hidden","true"),t(e,"mouseenter",function(){l(!0)}),t(e,"mouseleave",function(){l(!1)}),t(e,"focus",function(){l(!0)}),t(e,"blur",function(){l(!1)}),t(document,"keydown",function(e){"Escape"!==e.key||i.hidden||l(!1)}),t(window,"scroll",function(){i.hidden||s()},{passive:!0}),t(window,"resize",function(){i.hidden||s()})}}(),function(){e.popover;e.popover=function(e,i,a){var r=Object.assign({margin:8,placement:"auto",preventDefault:!0},a||{});function o(){var t=e.getBoundingClientRect(),a=function(e){var t=e.hidden,n=e.style.visibility,i=e.classList.contains("is-open");e.style.visibility="hidden",e.hidden=!1,e.classList.add("is-open");var a=e.offsetWidth||180,r=e.offsetHeight||40;return i||e.classList.remove("is-open"),e.hidden=t,e.style.visibility=n||"",{w:a,h:r}}(i),o=a.w,s=a.h,l=r.placement;"auto"===l&&(l=window.innerHeight-t.bottom<s+r.margin+10?"top":"bottom");if(i.style.position="fixed",i.classList.remove("is-top","is-bottom","is-left","is-right"),"left"===l||"right"===l){var c=t.top+t.height/2,u="right"===l?t.right+r.margin:t.left-o-r.margin;u=n(u,4,window.innerWidth-o-4),c=n(c,4+s/2,window.innerHeight-4-s/2),i.style.left=Math.round(u)+"px",i.style.top=Math.round(c)+"px",i.style.transform="translateY(-50%)",i.classList.add("right"===l?"is-right":"is-left")}else{var d=t.left+t.width/2,f=d;f=n(f,r.margin+o/2,window.innerWidth-r.margin-o/2);var m="bottom"===l?t.bottom+r.margin:t.top-s-r.margin;i.style.left=Math.round(f)+"px",i.style.top=Math.round(m)+"px",i.style.transform="translateX(-50%)",i.classList.add("bottom"===l?"is-bottom":"is-top");var p=Math.max(0,o/2-10),h=n(d-f,-p,p);i.style.setProperty("--wf-arrow-x",h+"px")}}var s=null;function l(e){i.hidden=!e,i.classList.toggle("is-open",e),e?(s=document.activeElement,o(),setTimeout(function(){var e=i.querySelector('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');e?e.focus():(i.setAttribute("tabindex","-1"),i.focus())},0)):s&&s.focus&&setTimeout(function(){s.focus()},0)}t(e,"click",function(t){r.preventDefault&&function(e){var t=(e.tagName||"").toUpperCase();if("BUTTON"===t)return!0;if("INPUT"===t){var n=(e.type||"").toLowerCase();return"submit"===n||"button"===n}if("A"===t){var i=e.getAttribute("href");return!i||"#"===i}return!(!e.closest||!e.closest("form"))}(e)&&t.preventDefault(),l(i.hidden)}),t(document,"click",function(t){i.contains(t.target)||t.target===e||l(!1)}),t(window,"resize",function(){i.hidden||o()}),t(window,"scroll",function(){i.hidden||o()},{passive:!0}),t(e,"keydown",function(e){"Escape"===e.key&&l(!1),"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l(i.hidden))}),t(i,"keydown",function(e){"Escape"===e.key&&l(!1)})}}(),function(){if(e.schedule){var n=e.schedule;e.schedule=function(e,a){var o=Object.assign({},a||{}),s=null,l=Number(o.timeInterval||60);o.timeRange&&(s=i(o.timeRange)),o.timeRange="all-day";var c=n(e,o),u=e.querySelector(".wf-schedule__daily"),d=e.querySelector(".wf-schedule__settings"),f=e.querySelector('input[type="date"]'),m=!(!a||!a.selectedDate)||f&&!!f.value;function p(){u&&u.classList.toggle("is-hidden",!m),d&&d.classList.toggle("is-hidden",!m)}if(p(),f&&t(f,"change",function(){m=!!f.value,p(),c.setSelectedDate&&c.setSelectedDate(f.value||null),setTimeout(function(){r(e,s)},0)}),c.setSelectedDate){var h=c.setSelectedDate;c.setSelectedDate=function(t){m=!!t,p();var n=h.call(c,t);return setTimeout(function(){r(e,s)},0),n}}if(c.setMode){var v=c.setMode;c.setMode=function(t){var n=v.call(c,t);return setTimeout(function(){r(e,s)},0),n}}if(c.navigateWeek){var b=c.navigateWeek;c.navigateWeek=function(t){var n=b.call(c,t);return setTimeout(function(){r(e,s)},0),n}}if(c.setTimeInterval){var g=c.setTimeInterval;c.setTimeInterval=function(t){l=Number(t||l);var n=g.call(c,t);return setTimeout(function(){r(e,s)},0),n}}if(c.clearSelection){var y=c.clearSelection;c.clearSelection=function(){var t=y.call(c);return setTimeout(function(){r(e,s)},0),t}}if(c.setTimeRange){var w=c.setTimeRange;c.setTimeRange=function(t){s=i(t);var n=w.call(c,"all-day");return setTimeout(function(){r(e,s)},0),n}}return new MutationObserver(function(){var t=e.querySelector(".wf-schedule__help");if(t&&t.innerHTML){var n=t.innerHTML,i=!1;if(n.indexOf("勤怠：ノーマル")>=0&&(n=n.replace(/勤怠：ノーマル/g,"標準"),i=!0),n.indexOf("勤怠：モダン")>=0&&(n=n.replace(/勤怠：モダン/g,"拡張"),i=!0),s){var a="（"+(s.label||"時間帯")+": "+String(s.start).padStart(2,"0")+":00-"+String(s.end).padStart(2,"0")+":00、"+l+"分刻み）";n=n.replace(/（.*?）/,a),i=!0}i&&(t.innerHTML=n)}}).observe(e,{subtree:!0,childList:!0,characterData:!0}),setTimeout(function(){r(e,s)},0),c}}function i(e){if(!e||"all-day"===e)return null;if("daytime"===e)return{start:8,end:18,label:"標準"};if("extended"===e)return{start:10,end:20,label:"拡張"};if("function"==typeof e)return i(e(new Date));if("object"==typeof e){var t=Number(e.start),n=Number(e.end);if(!(isFinite(t)&&isFinite(n)&&t>=0&&n<=24&&t<n))throw new Error("WFUI.schedule: invalid custom timeRange. Expect { start:number(0-23), end:number(1-24), label?:string } with start < end");return{start:Math.floor(t),end:Math.floor(n),label:e.label||"カスタム"}}throw new Error("WFUI.schedule: unsupported timeRange value")}function a(e,t,n){return!n||!(e<n.start)&&(!(e>n.end)&&!(e===n.end&&t>0))}function r(e,t){var n=e.querySelector(".wf-schedule__time-grid");n&&n.querySelectorAll(".wf-schedule__time-slot").forEach(function(e){var n=(e.getAttribute("data-time")||"").split(":"),i=Number(n[0]||0),r=Number(n[1]||0);t?e.style.display=a(i,r,t)?"":"none":e.style.removeProperty("display")});var i=e.querySelector(".wf-schedule__calendar-grid");i&&(i.querySelectorAll(".wf-schedule__week-time-slot").forEach(function(e){var n=(e.getAttribute("data-time")||"").split(":"),i=Number(n[0]||0),r=Number(n[1]||0);t?e.style.display=a(i,r,t)?"":"none":e.style.removeProperty("display")}),i.querySelectorAll(".wf-schedule__week-time-label").forEach(function(e){var n=(e.textContent||"").trim().split(":"),i=Number(n[0]||0),r=Number(n[1]||0);t?e.style.display=a(i,r,t)?"":"none":e.style.removeProperty("display")}))}}(),e.dataTable||(e.dataTable=function(e,t){var n=Object.assign({columns:[],data:[],sortable:!0,filterable:!0,pagination:!0,pageSize:10,selectable:!1},t||{}),i={column:null,direction:null},a="",r=1,o=new Set;function s(){var t=n.data.filter(function(e){return!a||n.columns.some(function(t){return String(e[t.key]||"").toLowerCase().indexOf(a.toLowerCase())>=0})}).slice();null!==i.column&&t.sort(function(e,t){var n=e[i.column],a=t[i.column];return n<a?"asc"===i.direction?-1:1:n>a?"asc"===i.direction?1:-1:0});var l=(r-1)*n.pageSize,c=l+n.pageSize,u=t.slice(l,c),d=e.querySelector("tbody");if(d){d.innerHTML="",u.forEach(function(e,t){var i=document.createElement("tr");if(o.has(l+t)&&i.classList.add("is-selected"),n.selectable){var a=document.createElement("td"),r=document.createElement("input");r.type="checkbox",r.className="wf-data-table__checkbox",r.checked=o.has(l+t),r.addEventListener("change",function(){r.checked?o.add(l+t):o.delete(l+t),s()}),a.appendChild(r),i.appendChild(a)}n.columns.forEach(function(t){var n=document.createElement("td");n.textContent=e[t.key]||"",i.appendChild(n)}),d.appendChild(i)});var f=e.querySelector(".wf-data-table__info");f&&(f.textContent=l+1+"-"+Math.min(c,t.length)+" / "+t.length+"件")}}return function(){var t,o=e.querySelector(".wf-data-table__search input");o&&n.filterable&&o.addEventListener("input",function(){clearTimeout(t),t=setTimeout(function(){a=o.value,r=1,s()},300)});var l=e.querySelector("thead");l&&n.sortable&&l.querySelectorAll("th").forEach(function(e,t){if(0!==t||!n.selectable){var a=n.columns[t-(n.selectable?1:0)];if(a&&a.sortable){var r=document.createElement("button");r.className="wf-data-table__sort",r.innerHTML=(e.textContent||"")+'<span class="wf-data-table__sort-icon"></span>',r.setAttribute("aria-label","ソート: "+(e.textContent||"")),e.innerHTML="",e.appendChild(r),r.addEventListener("click",function(){i.column===a.key?i.direction="asc"===i.direction?"desc":"asc":(i.column=a.key,i.direction="asc"),e.setAttribute("aria-sort","asc"===i.direction?"ascending":"descending"),l.querySelectorAll("th").forEach(function(t){t!==e&&t.removeAttribute("aria-sort")}),s()})}}}),s()}(),{sort:function(e,t){i.column=e,i.direction=t||"asc",s()},filter:function(e){a=e,r=1,s()},setPage:function(e){r=e,s()},getSelectedRows:function(){return Array.from(o)}}}),e.autocomplete||(e.autocomplete=function(e,t){var n=Object.assign({source:function(e,t){t([])},minLength:2,delay:300},t||{}),i=document.createElement("div");i.className="wf-autocomplete__menu",i.setAttribute("role","listbox"),i.hidden=!0,e.parentNode.appendChild(i);var a,r=-1,o=[];function s(){i.classList.remove("is-open"),i.hidden=!0,i.setAttribute("aria-expanded","false"),r=-1}function l(e){if(o=e,i.innerHTML="",0===e.length){var t=document.createElement("div");t.className="wf-autocomplete__empty",t.textContent="候補が見つかりません",i.appendChild(t)}else e.forEach(function(e,t){var n=document.createElement("div");n.className="wf-autocomplete__item",n.setAttribute("role","option"),n.setAttribute("data-index",t),n.textContent="string"==typeof e?e:e.label||e.value||"",n.addEventListener("click",function(){c(e)}),i.appendChild(n)});i.classList.add("is-open"),i.hidden=!1,i.setAttribute("aria-expanded","true")}function c(t){e.value="string"==typeof t?t:t.value||t.label||"",s(),n.onSelect&&n.onSelect(t)}function u(){i.querySelectorAll(".wf-autocomplete__item").forEach(function(e,t){e.classList.toggle("is-highlighted",t===r)})}return e.addEventListener("input",function(){var t=e.value.trim();clearTimeout(a),t.length<n.minLength?s():a=setTimeout(function(){n.source(t,l)},n.delay)}),e.addEventListener("keydown",function(e){!i.hidden&&o.length>0&&("ArrowDown"===e.key?(e.preventDefault(),r=Math.min(r+1,o.length-1),u()):"ArrowUp"===e.key?(e.preventDefault(),r=Math.max(r-1,-1),u()):"Enter"===e.key&&r>=0?(e.preventDefault(),c(o[r])):"Escape"===e.key&&s())}),document.addEventListener("click",function(t){i.contains(t.target)||t.target===e||s()}),{destroy:function(){i.remove()}}}),function(){if(!e.snackbar){var t={};function n(e){e.classList.add("is-removing"),setTimeout(function(){e.remove()},200)}e.snackbar={show:function(e){var i=Object.assign({message:"",type:"info",duration:3e3,position:"bottom-right"},e||{}),a=function(e){if(!t[e]){var n=document.createElement("div");n.className="wf-snackbar-container wf-snackbar-container--"+e,document.body.appendChild(n),t[e]=n}return t[e]}(i.position),r=document.createElement("div");r.className="wf-snackbar wf-snackbar--"+i.type,r.setAttribute("role","alert");var o=document.createElement("div");o.className="wf-snackbar__content";var s=document.createElement("p");s.className="wf-snackbar__message",s.textContent=i.message,o.appendChild(s),r.appendChild(o);var l=document.createElement("button");return l.className="wf-snackbar__close",l.setAttribute("aria-label","閉じる"),l.innerHTML="×",l.addEventListener("click",function(){n(r)}),r.appendChild(l),a.appendChild(r),i.duration>0&&setTimeout(function(){n(r)},i.duration),{close:function(){n(r)}}},clear:function(e){if(e){var i=t[e];i&&i.querySelectorAll(".wf-snackbar").forEach(n)}else Object.keys(t).forEach(function(e){t[e].querySelectorAll(".wf-snackbar").forEach(n)})}}}}()}function t(e,t,n,i){e&&e.addEventListener(t,n,i)}function n(e,t,n){return Math.max(t,Math.min(n,e))}}();