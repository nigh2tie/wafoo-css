@layer components {
  /* Modal */
  .wf-modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(1px);
  }
  .wf-modal-overlay.is-open {
    display: flex;
  }

  .wf-modal {
    background: var(--wf-surface-base);
    color: var(--wf-color-text);
    width: min(92vw, 640px);
    display: flex;
    flex-direction: column;
    border-radius: var(--wf-radius-md);
    border: 1px solid var(--wf-color-border);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.16);
  }
  .wf-modal-sm {
    width: min(92vw, 420px);
  }
  .wf-modal-lg {
    width: min(92vw, 840px);
  }

  .wf-modal__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--wf-space-2);
    padding: var(--wf-space-3) var(--wf-space-4);
    border-bottom: 1px solid var(--wf-color-border);
  }
  .wf-modal__title {
    margin: 0;
    font-size: 1.125rem;
    font-weight: 700;
  }
  .wf-modal__close {
    appearance: none;
    border: 0;
    background: transparent;
    cursor: pointer;
    color: var(--wf-color-muted);
    padding: var(--wf-space-1);
    border-radius: var(--wf-radius-sm);
    transition:
      color 0.2s ease,
      background-color 0.2s ease;
  }
  .wf-modal__close:hover,
  .wf-modal__close:focus-visible {
    color: var(--wf-color-accent);
    background: var(--wf-surface-muted);
  }

  .wf-modal__body {
    padding: var(--wf-space-4);
  }
  .wf-modal__footer {
    display: flex;
    justify-content: flex-end;
    gap: var(--wf-space-2);
    padding: var(--wf-space-3) var(--wf-space-4);
    border-top: 1px solid var(--wf-color-border);
  }

  /* Footer alignment modifiers */
  .wf-modal__footer.is-start {
    justify-content: flex-start;
  }
  .wf-modal__footer.is-center {
    justify-content: center;
  }

  @media (prefers-reduced-motion: no-preference) {
    .wf-modal {
      transform: translateY(4px);
      opacity: 0.98;
      transition:
        transform 0.16s ease,
        opacity 0.16s ease;
    }
    .wf-modal-overlay.is-open .wf-modal {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Variants */
  /* Overlay alignment (top) */
  .wf-modal-overlay.is-top {
    align-items: flex-start;
    padding-top: var(--wf-space-6);
  }

  /* Scrollable body (long content) */
  .wf-modal--scroll .wf-modal__body {
    max-height: 80vh;
    overflow: auto;
  }

  /* Fullscreen modal */
  .wf-modal-fullscreen {
    width: 100vw;
    height: 100vh;
    max-width: none;
    max-height: none;
    border-radius: 0;
    border: 0;
  }
  .wf-modal-fullscreen .wf-modal__body {
    flex: 1 1 auto;
    overflow: auto;
  }

  /* Status variations */
  .wf-modal--danger .wf-modal__header {
    background: var(--wf-danger);
    color: var(--wf-danger-fg);
  }
  .wf-modal--danger .wf-modal__footer {
    border-top-color: var(--wf-danger);
  }

  .wf-modal--warning .wf-modal__header {
    background: var(--wf-warning);
    color: var(--wf-warning-fg);
  }
  .wf-modal--warning .wf-modal__footer {
    border-top-color: var(--wf-warning);
  }

  .wf-modal--success .wf-modal__header {
    background: var(--wf-success);
    color: var(--wf-success-fg);
  }
  .wf-modal--success .wf-modal__footer {
    border-top-color: var(--wf-success);
  }

  .wf-modal--info .wf-modal__header {
    background: var(--wf-color-accent);
    color: var(--wf-primary-fg);
  }
  .wf-modal--info .wf-modal__footer {
    border-top-color: var(--wf-color-accent);
  }
}
